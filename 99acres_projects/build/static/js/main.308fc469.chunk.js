(window.webpackJsonpdynamic_form=window.webpackJsonpdynamic_form||[]).push([[0],{35:function(e,t,a){},37:function(e,t,a){e.exports=a(90)},42:function(e,t,a){},43:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(12),i=a.n(l),r=(a(42),a(5)),c=a(6),s=a(8),u=a(7),p=a(9),d=(a(43),a(36)),h=a(2),b=a(10),m=(a(35),a(86),a(87),a(13));a(88);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).popupCallback=a.popupCallback.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"popupCallback",value:function(e){console.log("inside popup callback"),console.log(e),this.props.callbackFromEdit(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"popup"},o.a.createElement("div",{className:"popup_inner"},o.a.createElement(j,{currentRow:this.props.currentRow,closePopup:this.props.closePopup,callbackFromPopup:this.popupCallback,updateType:this.props.updateType})))}}]),t}(o.a.Component),j=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),console.log("inside project constructor"),a.state={projectValues:a.props.currentRow,dataValidator:a.initializeValidator,updateCalled:!1},a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.handleupdate=a.handleupdate.bind(Object(h.a)(a)),a.handleReset=a.handleReset.bind(Object(h.a)(a)),a.submit=a.submit.bind(Object(h.a)(a)),a.validate=a.validate.bind(Object(h.a)(a)),a.isValueValidNumber=a.isValueValidNumber.bind(Object(h.a)(a)),a.completeDataValid=a.completeDataValid.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initializeValidator",value:function(){for(var e={},t=Object.keys(this.props.currentRow),a=0;a<t.length;a++)e[t[a]+"_valid"]=!0;return e}},{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(function(e){return{projectValues:k({},e.projectValues,Object(m.a)({},t,a))}})}},{key:"handleupdate",value:function(e){console.log("inside handle updated"),this.submit()}},{key:"handleReset",value:function(e){var t=this.props.currentRow;this.setState({projectValues:t}),this.setState({dataValidator:this.initializeValidator}),this.setState({updateCalled:!1})}},{key:"markFieldInvalid",value:function(e){this.setState(function(t){return{dataValidator:k({},t.dataValidator,Object(m.a)({},e+"_valid",!1))}})}},{key:"markFieldValid",value:function(e){this.setState(function(t){return{dataValidator:k({},t.dataValidator,Object(m.a)({},e+"_valid",!0))}})}},{key:"validate",value:function(e){console.log("inside validate");var t=e.target.name,a=e.target.value;/^[a-z0-9 ]+$/i.test(a)?t.toLowerCase().endsWith("id")?this.isValueValidNumber(a)?this.markFieldValid(t):(console.log("inside markfieldInvalid"),this.markFieldInvalid(t)):this.markFieldValid(t):this.markFieldInvalid(t)}},{key:"isValueValidNumber",value:function(e){return!isNaN(e)}},{key:"completeDataValid",value:function(){console.log("inside complete data valid");for(var e=!0,t=Object.keys(this.state.dataValidator),a=0;a<=t.length-1;a++)0==this.state.dataValidator[t[a]]&&(e=!1);return e}},{key:"submit",value:function(e){this.setState({updateCalled:!0});var t="CREATE"==this.props.updateType?"http://localhost/project-details-backend/api/project/create.php":"http://localhost/project-details-backend/api/project/update.php";this.completeDataValid()&&(console.log("going to send data"),console.log(JSON.stringify(this.state.projectValues)),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.projectValues)}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(e){alert("the project was successfully updated")}).catch(function(e){alert("Sorry, there was some error with the input, try again"),console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"list-container"},o.a.createElement("ul",{className:"list_item"},Object.keys(this.props.currentRow).map(function(t){return o.a.createElement("li",{key:t}," ",t,"  : ",o.a.createElement("input",{id:t,type:"text",name:t,onBlur:e.validate,value:e.state.projectValues[t],onChange:e.handleInputChange}),0==e.state.dataValidator[t+"_valid"]?o.a.createElement("span",{class:"err",id:t+"_error"},"Error"):null)}),1!=this.completeDataValid()&&this.state.updateCalled?o.a.createElement("span",{class:"error"},"Sorry there was some error, Try Again"):null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement("a",{href:"#",onClick:this.handleReset},"Reset")),o.a.createElement("div",{className:"column"},o.a.createElement("a",{href:"#",onClick:this.handleupdate},"Update")),o.a.createElement("div",{className:"column"},o.a.createElement("a",{href:"#",onClick:this.props.closePopup},"Close"))))}}]),t}(o.a.Component),v=g,y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={showPopup:!1,updateType:"UPDATE"},a.togglePopup=a.togglePopup.bind(Object(h.a)(a)),a.editCallback=a.editCallback.bind(Object(h.a)(a)),a.deleteID=a.deleteID.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"editCallback",value:function(e){console.log("inside edit callback"),console.log(e),this.props.callbackFromTable(e)}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"deleteID",value:function(){for(var e={},t=Object.keys(this.props.rowData),a=0;a<t.length;a++)"ID"!=t[a]&&"edit"!==t[a]&&"dropdown"!==t[a]&&(e[t[a]]=this.props.rowData[t[a]]);return e}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{onClick:this.togglePopup}," Edit"),this.state.showPopup?o.a.createElement(v,{text:'Click "Close Button" to hide popup',closePopup:this.togglePopup,currentRow:this.deleteID(),updateType:this.state.updateType,callbackFromEdit:this.editCallback}):null)}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("select",null,o.a.createElement("option",null,"SELECT"),o.a.createElement("option",{value:"1"},"Option 1"),o.a.createElement("option",{value:"2"},"Option 2"),o.a.createElement("option",{value:"3"},"Option 3")))}}]),t}(n.Component),C=(o.a.Component,function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleDeleteButtonClick=function(e){fetch("http://localhost/project-details-backend/api/project/delete.php",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.selectedRow)}).then(function(e){return e.text("detail has been logged")}).then(function(e){return console.log("project has been deleted")}),console.log("This is my custom function for DeleteButton click event"),e()},a.createCustomDeleteButton=function(e){return o.a.createElement(b.DeleteButton,{btnText:"Delete",btnContextual:"btn-warning",className:"my-custom-class",btnGlyphicon:"glyphicon-edit",onClick:function(){return a.handleDeleteButtonClick(e)}})},a.handleInsertButtonClick=function(){a.toggleCreatePopup(),console.log("inside handle insert")},a.createCustomInsertButton=function(){return o.a.createElement(b.InsertButton,{btnText:"New",btnContextual:"btn-warning",className:"my-custom-class",btnGlyphicon:"glyphicon-plus",onClick:function(){return a.handleInsertButtonClick()}})},a.renderSizePerPageDropDown=function(e){return o.a.createElement("div",{className:"btn-group"},[10,25,30].map(function(t,a){var n=t===e.currSizePerPage?"active":null;return o.a.createElement("button",{key:a,type:"button",className:"btn btn-info ".concat(n),onClick:function(){return e.changeSizePerPage(t)}},t)}))},a.handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.state={results:[],rowClickedIndex:-1,selectedRow:{},showCreatePopup:!1,updateType:"CREATE",selectedOption:null},a.fetchResults(),a.tableCallback=a.tableCallback.bind(Object(h.a)(a)),a.onRowClick=a.onRowClick.bind(Object(h.a)(a)),a.handleDeleteButtonClick=a.handleDeleteButtonClick.bind(Object(h.a)(a)),a.handleInsertButtonClick=a.handleInsertButtonClick.bind(Object(h.a)(a)),a.handleRowSelect=a.handleRowSelect.bind(Object(h.a)(a)),a.toggleCreatePopup=a.toggleCreatePopup.bind(Object(h.a)(a)),a.initializeNewData=a.initializeNewData.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"fetchResults",value:function(){var e=this;fetch("http://localhost/project-details-backend/api/project/read_2.php?table=project_details").then(function(e){return e.json()}).then(function(t){console.log("inside fetchResults"),console.log(t.records),e.setState({results:t.records})}).catch(function(e){console.log(e)})}},{key:"onRowClick",value:function(e,t,a){this.setState({rowClickedIndex:a})}},{key:"handleRowSelect",value:function(e,t,a){this.setState({selectedRow:e})}},{key:"tableCallback",value:function(e){console.log("inside table callback");var t=Object(d.a)(this.state.results);t[this.state.rowClickedIndex]=e,this.setState({results:t})}},{key:"toggleCreatePopup",value:function(){this.setState({showCreatePopup:!this.state.showCreatePopup})}},{key:"initializeNewData",value:function(){for(var e={},t=Object.keys(this.state.results[0]),a=0;a<t.length;a++)"ID"!=t[a]&&(e[t[a]]="");return e}},{key:"render",value:function(){var e=this,t=(this.state.selectedOption,{onRowClick:this.onRowClick,deleteBtn:this.createCustomDeleteButton,insertBtn:this.createCustomInsertButton,sizePerPageDropDown:this.renderSizePerPageDropDown}),a={mode:"checkbox",clickToSelect:!0,onSelect:this.handleRowSelect};return o.a.createElement("div",null,o.a.createElement("link",{rel:"stylesheet",href:"https://npmcdn.com/react-bootstrap-table/dist/react-bootstrap-table.min.css"}),o.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css",integrity:"sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu",crossOrigin:"anonymous"}),o.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css",integrity:"sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ",crossOrigin:"anonymous"}),o.a.createElement(b.BootstrapTable,{class:"table table-striped",keyField:"ID",data:this.state.results,selectRow:a,insertRow:!0,deleteRow:!0,search:!0,searchPlaceholder:"type to filter projects",cellEdit:{mode:"click"},pagination:!0,options:t},this.state.results.length>0?Object.keys(this.state.results[0]).map(function(t){return"edit"!=t&&"dropdown"!=t?o.a.createElement(b.TableHeaderColumn,{dataField:t,editable:!1}," ",t," "):"edit"==t?o.a.createElement(b.TableHeaderColumn,{dataField:"edit",dataFormat:function(t,a){return o.a.createElement(y,{rowData:a,callbackFromTable:e.tableCallback})},editable:!1}):"dropdown"==t?o.a.createElement(b.TableHeaderColumn,{dataField:"dropdown",dataFormat:function(e,t){return o.a.createElement(O,null)},editable:!1},"DropDown"):void 0}):o.a.createElement("div",null)),this.state.showCreatePopup?o.a.createElement(v,{text:'Click "Close Button" to hide popup',closePopup:this.toggleCreatePopup,currentRow:this.initializeNewData(),updateType:this.state.updateType,callbackFromEdit:this.tableCallback}):null)}}]),t}(n.Component)),w=(a(89),n.Component,function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("p",{className:"Table-header"},"Project Details"),o.a.createElement(C,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.308fc469.chunk.js.map